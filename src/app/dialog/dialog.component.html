<!--
 * @Author: liukun
 * @Date: 2023-09-26 13:33:14
 * @LastEditors: liukun
 * @LastEditTime: 2023-10-13 16:35:14
 * @FilePath: \501-aq-pro\src\app\dialog\dialog.component.html
 * @Description: 
 * 
-->
<div class="dialogBox">
  <nz-modal
    [(nzVisible)]="isVisible"
    [nzFooter]="null"
    (nzOnCancel)="handleCancel()"
    [nzClosable]="false"
    [nzStyle]="{
      minHeight: '560px',
      maxHeight: '750px',
    }"
    nzWidth="700px"
    (nzOnOk)="handleOk()"
  >
    <ng-container *nzModalContent>
      <div
        class="dis-flex align-items flex-x-between mar_b_10 pad_h_10 content-header"
      >
        <div class="col_f f-15 pad_l_30">xxxxxxxxxxxxx</div>
        <div class="dis-flex">
          <!-- <button
            nz-button
            nzType="primary"
            class="mar_r_10"
            (click)="downLoadFile('JSON')"
          >
            <span nz-icon nzType="download"></span>
            下载设置
          </button> -->
          <!-- <button nz-button nzType="primary" (click)="downLoadFile('CSV')">
            <span nz-icon nzType="download"></span>
            下载CSV文件
          </button> -->
          <div class="donwload-config mar_r_10 pointer">
            <span nz-icon nzType="download" nzTheme="outline"></span>下载设置
          </div>
          <div class="close pointer">
            <span nz-icon nzType="close" nzTheme="outline"></span>
          </div>
        </div>
      </div>
      <div class="table">
        <div class="table-header dis-flex pad_v_10">
          <div class="flex-box text-align">当前时间</div>
          <div class="flex-box text-align">操作</div>
        </div>
        <div class="table-body col_f">
          <div
            class="table-row dis-flex pad_v_5 align-items"
            *ngFor="let data of list; let i = index"
            [ngClass]="i % 2 === 0 ? 'zebra-color' : ''"
          >
            <div class="table-row-td flex-box text-align">
              {{ data.currenttime }}
            </div>
            <div class="table-row-td flex-box text-align">
              <span class="view-data pointer" (click)="preview(data.SimData)"
                >查看</span
              >
            </div>
          </div>
        </div>
      </div>
      <div class="mar_t_10 dis-flex flex-x-center pagination">
        <!-- nzShowSizeChanger -->
        <nz-pagination
          [nzPageIndex]="listQuery.pageIndex"
          [nzPageSize]="listQuery.pageSize"
          [nzTotal]="total"
          (nzPageIndexChange)="handleChangeIndex($event)"
          (nzPageSizeChange)="handleChangeSize($event)"
        ></nz-pagination>
      </div>
    </ng-container>
  </nz-modal>
  <nz-modal
    [(nzVisible)]="preVisible"
    (nzOnCancel)="preVisible = false"
    nzWidth="50%"
    [nzFooter]="null"
    (nzAfterOpen)="preAfterOpen()"
    [nzClosable]="false"
    [nzStyle]="{
      height: '700px',
      overflow: 'auto'
    }"
  >
    <ng-container *nzModalContent>
      <!-- <ngx-json-viewer [json]="jsonData" [expanded]="false"></ngx-json-viewer> -->
      <div id="editor"></div>
    </ng-container>
  </nz-modal>
</div>
